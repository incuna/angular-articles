!function(a,b){"use strict";var c=a.module("articles",["ngRoute"]);c.factory("articlesBackend",function(){return{}}),c.run(["$log","articlesBackend",function(c,d){if(!d)throw new Error("articles: articlesBackend must be provided. See source code for example.");var e=["getArticles","getArticle","getSections","getSection","getFlows","getFlow","getArticlesForSection","getSectionsForFlow"],f=!1;if(a.forEach(e,function(a){b.has(d,a)||(f=!0,c.error("articles: articlesBackend must provide a "+a+" method."))}),f)throw new Error("articles: articlesBackend is not providing required methods.")}]),c.factory("articlesDataService",["articlesBackend",function(a){return{getArticles:a.getArticles,getArticle:a.getArticle,getSections:a.getSections,getSection:a.getSection,getFlows:a.getFlows,getFlow:a.getFlow,getArticlesForSection:a.getArticlesForSection,getSectionsForFlow:a.getSectionsForFlow}}]),c.config(["$routeProvider",function(a){a.when("/articles/",{controller:"ArticlesListCtrl",templateUrl:"templates/articles/list.html"}).when("/articles/:article/",{controller:"ArticlesDetailCtrl",templateUrl:"templates/articles/detail.html"}).when("/sections/",{controller:"SectionsListCtrl",templateUrl:"templates/sections/list.html"}).when("/sections/:section/",{controller:"SectionsDetailCtrl",templateUrl:"templates/sections/detail.html"}).when("/flows/",{controller:"FlowsListCtrl",templateUrl:"templates/flows/list.html"}).when("/flows/:flow/",{controller:"FlowsDetailCtrl",templateUrl:"templates/flows/detail.html"}).when("/sections/:section/articles/",{controller:"SectionsArticlesListCtrl",templateUrl:"templates/sections/articles-list.html"}).when("/sections/:section/articles/:article/",{controller:"SectionsArticlesDetailCtrl",templateUrl:"templates/sections/articles-detail.html"}).when("/flows/:flow/sections/",{controller:"FlowsSectionsListCtrl",templateUrl:"templates/flows/sections-list.html"}).when("/flows/:flow/sections/:section/",{controller:"FlowsSectionsDetailCtrl",templateUrl:"templates/flows/sections-detail.html"}).when("/flows/:flow/sections/:section/articles/",{controller:"FlowsSectionsArticlesListCtrl",templateUrl:"templates/flows/sections-articles-list.html"}).when("/flows/:flow/sections/:section/articles/:article/",{controller:"FlowsSectionsArticlesDetailCtrl",templateUrl:"templates/flows/sections-articles-detail.html"})}]),c.controller("ArticlesListCtrl",["$scope","articlesDataService",function(a,b){a.articles=b.getArticles()}]),c.controller("ArticlesDetailCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.article;a.article=c.getArticle(d)}]),c.controller("SectionsListCtrl",["$scope","articlesDataService",function(a,b){a.sections=b.getSections()}]),c.controller("SectionsDetailCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.section;a.section=c.getSection(d)}]),c.controller("FlowsListCtrl",["$scope","articlesDataService",function(a,b){a.flows=b.getFlows()}]),c.controller("FlowsDetailCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.flow;a.flow=c.getFlow(d)}]),c.controller("SectionsArticlesListCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.section;a.section=c.getSection(d),a.articles=c.getArticlesForSection(d)}]),c.controller("SectionsArticlesDetailCtrl",["$scope","$routeParams","$location","articlesDataService",function(a,c,d,e){var f=c.section,g=c.article;a.section=e.getSection(f),a.article=e.getArticle(g),b.contains(a.section.articles,g)||d.path("/404/").replace()}]),c.controller("FlowsSectionsListCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.flow;a.flow=c.getFlow(d),a.sections=c.getSectionsForFlow(d)}]),c.controller("FlowsSectionsDetailCtrl",["$scope","$routeParams","$location","articlesDataService",function(a,c,d,e){var f=c.flow,g=c.section;a.flow=e.getFlow(f),a.section=e.getSection(g),b.contains(a.flow.sections,g)||d.path("/404/").replace()}]),c.controller("FlowsSectionsArticlesListCtrl",["$scope","$routeParams","$location","articlesDataService",function(a,c,d,e){var f=c.flow,g=c.section;a.flow=e.getFlow(f),a.section=e.getSection(g),a.articles=e.getArticlesForSection(g),b.contains(a.flow.sections,g)||d.path("/404/").replace()}]),c.controller("FlowsSectionsArticlesDetailCtrl",["$scope","$routeParams","$location","articlesDataService",function(a,c,d,e){var f=c.flow,g=c.section,h=c.article;a.flow=e.getFlow(f),a.section=e.getSection(g),a.article=e.getArticle(h),b.contains(a.flow.sections,g)||b.contains(a.section.articles,h)||d.path("/404/").replace()}])}(window.angular,window._),angular.module("articles").run(["$templateCache",function(a){"use strict";a.put("templates/articles/detail.html",'<h1>Article: {{ article.slug }}</h1><div ng-include=article.templateUrl></div><a href="#/articles/">&lt;– Articles</a>'),a.put("templates/articles/list.html",'<h1>Articles</h1><ul><li ng-repeat="article in articles"><a ng-href="#/articles/{{ article.slug }}/">Article: {{ article.slug }}</a></li></ul>'),a.put("templates/flows/detail.html",'<h1>Flow: {{ flow.slug }}</h1><a href="#/flows/">&lt;– Flows</a> <a href="#/flows/{{ flow.slug }}/sections/">Sections of {{ flow.slug }} – &gt;</a>'),a.put("templates/flows/list.html",'<h1>Flows</h1><ul><li ng-repeat="flow in flows"><a ng-href="#/flows/{{ flow.slug }}/">Flow: {{ flow.slug }}</a></li></ul>'),a.put("templates/flows/sections-articles-detail.html",'<h1>Flow: {{ flow.slug }}</h1><h1>Section: {{ section.slug }}</h1><h2>Article: {{ article.slug }}</h2><div ng-include=article.templateUrl></div><a href="#/flows/{{ flow.slug }}/sections/{{ section.slug }}/articles/">&lt;– Flow section articles: {{ section.slug }}</a>'),a.put("templates/flows/sections-articles-list.html",'<h1>Flow: {{ flow.slug }}</h1><h1>Section: {{ section.slug }}</h1><ul><li ng-repeat="article in articles"><a ng-href="#/flows/{{ flow.slug }}/sections/{{ section.slug }}/articles/{{ article.slug }}/">Article: {{ article.slug }}</a></li></ul><a href="#/flows/{{ flow.slug }}/sections/{{ section.slug }}/">&lt;– Flow section: {{ section.slug }}</a>'),a.put("templates/flows/sections-detail.html",'<h2>Flow: {{ flow.slug }}</h2><h1>Section: {{ section.slug }}</h1><a href="#/flows/{{ flow.slug }}/sections/">&lt;– Flow sections: {{ flow.slug }}</a> <a href="#/flows/{{ flow.slug }}/sections/{{ section.slug }}/articles/">Articles of {{ section.slug }} – &gt;</a>'),a.put("templates/flows/sections-list.html",'<h1>Flow: {{ flow.slug }}</h1><h2>Sections</h2><ul><li ng-hide=sections.length>No sections</li><li ng-repeat="section in sections"><a ng-href="#/flows/{{ flow.slug }}/sections/{{ section.slug }}/">Section: {{ section.slug }}</a></li></ul><a href="#/flows/{{ flow.slug }}/">&lt;– Flow: {{ flow.slug }}</a>'),a.put("templates/sections/articles-detail.html",'<h1>Section: {{ section.slug }}</h1><h2>Article: {{ article.slug }}</h2><div ng-include=article.templateUrl></div><a href="#/sections/{{ section.slug }}/articles/">&lt;– Section articles: {{ section.slug }}</a>'),a.put("templates/sections/articles-list.html",'<h1>Section: {{ section.slug }}</h1><ul><li ng-repeat="article in articles"><a ng-href="#/sections/{{ section.slug }}/articles/{{ article.slug }}/">Article: {{ article.slug }}</a></li></ul><a href="#/sections/{{ section.slug }}/">&lt;– Section: {{ section.slug }}</a>'),a.put("templates/sections/detail.html",'<h1>Section: {{ section.slug }}</h1><a href="#/sections/">&lt;– Sections</a> <a href="#/sections/{{ section.slug }}/articles/">Articles of {{ section.slug }} – &gt;</a>'),a.put("templates/sections/list.html",'<h1>Sections</h1><ul><li ng-repeat="section in sections"><a ng-href="#/sections/{{ section.slug }}/">Section: {{ section.slug }}</a></li></ul>')}]);