!function(a,b){"use strict";var c=a.module("articles",["ngRoute"]);c.factory("articlesBackend",a.noop),c.run(["$log","articlesBackend",function(c,d){if(d===a.noop)throw new Error("articles: articlesBackend must be provided. See source code for example.");var e=["getArticles","getArticle","getSections","getSection","getFlows","getFlow"],f=!1;if(a.forEach(e,function(a){b.has(d,a)||(f=!0,c.error("articles: articlesBackend must provide a "+a+" method."))}),f)throw new Error("articles: articlesBackend is not providing required methods.")}]),c.factory("articlesDataService",["articlesBackend",function(a){return{getArticles:function(){return a.getArticles()},getArticle:function(b){return a.getArticle(b)},getSections:function(){return a.getSections()},getSection:function(b){return a.getSection(b)},getFlows:function(){return a.getFlows()},getFlow:function(b){return a.getFlow(b)},getArticlesForSection:function(c){var d=a.getSection(c);return b.map(d.articles,a.getArticle)},getSectionsForFlow:function(c){var d=a.getFlow(c);return b.map(d.sections,a.getSection)}}}]),c.config(["$routeProvider",function(a){a.when("/articles/",{controller:"ArticlesListCtrl",templateUrl:"templates/articles/list.html"}).when("/articles/:article/",{controller:"ArticlesDetailCtrl",templateUrl:"templates/articles/detail.html"}).when("/sections/",{controller:"SectionsListCtrl",templateUrl:"templates/sections/list.html"}).when("/sections/:section/",{controller:"SectionsDetailCtrl",templateUrl:"templates/sections/detail.html"}).when("/sections/:section/articles/",{controller:"SectionsArticlesListCtrl",templateUrl:"templates/sections/articles-list.html"}).when("/sections/:section/articles/:article/",{controller:"SectionsArticlesDetailCtrl",templateUrl:"templates/sections/articles-detail.html"})}]),c.controller("ArticlesListCtrl",["$scope","articlesDataService",function(a,b){a.articles=b.getArticles()}]),c.controller("ArticlesDetailCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.article;a.article=c.getArticle(d)}]),c.controller("SectionsListCtrl",["$scope","articlesDataService",function(a,b){a.sections=b.getSections()}]),c.controller("SectionsDetailCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.section;a.section=c.getSection(d)}]),c.controller("SectionsArticlesListCtrl",["$scope","$routeParams","articlesDataService",function(a,b,c){var d=b.section;a.section=c.getSection(d),a.articles=c.getArticlesForSection(d)}]),c.controller("SectionsArticlesDetailCtrl",["$scope","$routeParams","$location","articlesDataService",function(a,c,d,e){var f=c.section,g=c.article;a.section=e.getSection(f),a.article=e.getArticle(g),b.contains(a.section.articles,g)||d.path("/404/").replace()}])}(window.angular,window._),angular.module("articles").run(["$templateCache",function(a){"use strict";a.put("templates/articles/detail.html",'<h1>Article: {{ article.slug }}</h1><div ng-include=article.templateUrl></div><a href="#/articles/">&lt;– Articles</a>'),a.put("templates/articles/list.html",'<h1>Articles</h1><ul><li ng-repeat="article in articles"><a ng-href="#/articles/{{ article.slug }}/">Article: {{ article.slug }}</a></li></ul>'),a.put("templates/sections/articles-detail.html",'<h1>Section: {{ section.slug }}</h1><h2>Article: {{ article.slug }}</h2><div ng-include=article.templateUrl></div><a href="#/sections/{{ section.slug }}/articles/">&lt;– Section articles: {{ section.slug }}</a>'),a.put("templates/sections/articles-list.html",'<h1>Section: {{ section.slug }}</h1><ul><li ng-repeat="article in articles"><a ng-href="#/sections/{{ section.slug }}/articles/{{ article.slug }}/">Article: {{ article.slug }}</a></li></ul><a href="#/sections/{{ section.slug }}/">&lt;– Section: {{ section.slug }}</a>'),a.put("templates/sections/detail.html",'<h1>Section: {{ section.slug }}</h1><a href="#/sections/">&lt;– Sections</a> <a href="#/sections/{{ section.slug }}/articles/">Articles of {{ section.slug }} – &gt;</a>'),a.put("templates/sections/list.html",'<h1>Sections</h1><ul><li ng-repeat="section in sections"><a ng-href="#/sections/{{ section.slug }}/">Section: {{ section.slug }}</a></li></ul>')}]);